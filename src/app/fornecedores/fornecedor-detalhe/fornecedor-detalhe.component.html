<mat-card>
    <mat-card-header>
        <mat-card-title>Cadastro</mat-card-title>
    </mat-card-header>
    <mat-card-content>

        <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">
            <mat-card-subtitle fxFlex="100">
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item active"> Dados Fornecedor </li>
                </ol>
            </mat-card-subtitle>
        </div>

        <form fxLayout="column" [formGroup]="formulario">

            <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">

                <div fxFlex="21">
                    <mat-slide-toggle color="primary" type="checkbox" formControlName="checked">Pessoa Física ?</mat-slide-toggle>
                </div>

            </div>

            <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px" *ngIf="formulario.controls.id.value">

                <mat-form-field fxFlex="15">
                    <mat-label>ID :</mat-label>
                    <input matInput value="{{ fornecedorAtualizado.id }}" disabled>
                </mat-form-field>

                <mat-form-field fxFlex="15">
                    <mat-label>Data de Cadastro:</mat-label>
                    <input matInput [textMask]="{mask: mascaraData, guide: false}" value="{{ fornecedorAtualizado.dataCadastro }}" disabled>
                </mat-form-field>

            </div>

            <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">

                <mat-form-field class="full-width" fxFlex="100">
                    <mat-label>Razão social</mat-label>
                    <input matInput formControlName="razaoSocial">
                </mat-form-field>

            </div>

            <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">

                <mat-form-field *ngIf="!formulario.controls.checked.value" fxFlex="20">
                    <mat-label>CNPJ</mat-label>
                    <input matInput formControlName="cnpj" [textMask]="{mask: mascaraCnpj, guide: false}">
                </mat-form-field>

                <mat-form-field *ngIf="formulario.controls.checked.value" fxFlex="20">
                    <mat-label>CPF</mat-label>
                    <input matInput formControlName="cpf" [textMask]="{mask: mascaraCpf, guide: false}">
                </mat-form-field>

                <mat-form-field fxFlex="20">
                    <mat-label>Inscrição Estadual</mat-label>
                    <input matInput formControlName="inscricaoEstadual">
                </mat-form-field>

                <mat-form-field fxFlex="20">
                    <mat-label>Inscrição Municiapal</mat-label>
                    <input matInput formControlName="inscricaoMunicipal">
                </mat-form-field>


                <mat-form-field fxFlex="15" color="primary">
                    <mat-label>Data de abertura</mat-label>
                    <input matInput type="date" formControlName="dataAbertura">
                </mat-form-field>

            </div>

            <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">



                <mat-form-field fxFlex="15">
                    <mat-label>Celular :</mat-label>
                    <input matInput formControlName="celular" [textMask]="{mask: mascaraCelular, guide: false}" name="celular">
                </mat-form-field>

                <mat-form-field fxFlex="12">
                    <mat-label>Telefone :</mat-label>
                    <input matInput formControlName="telefone" [textMask]="{mask: mascaraTelefoneFixo, guide: false}" name="telefone">
                </mat-form-field>

                <mat-form-field fxFlex="30">
                    <mat-label>Email:</mat-label>
                    <input matInput formControlName="email" placeholder="Email:">
                    <mat-error *ngIf="formulario.controls.email.errors && !formulario.controls.email.pristine">
                        <mat-error *ngIf="formulario.controls.email.errors.email">
                            Email inválido
                        </mat-error>
                    </mat-error>
                </mat-form-field>

                <mat-form-field fxFlex="30">
                    <mat-label>Site :</mat-label>
                    <input matInput formControlName="site" placeholder="Site :">
                </mat-form-field>

            </div>

            <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">
                <mat-card-subtitle fxFlex="100">
                    <ol class="breadcrumb mb-4">
                        <li class="breadcrumb-item active"> Endereço </li>
                    </ol>
                </mat-card-subtitle>
            </div>

            <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">

                <mat-form-field fxFlex="12">
                    <mat-label>CEP :</mat-label>
                    <input matInput formControlName="cep" placeholder="CEP:" (keyup)="buscarCep($event)">
                </mat-form-field>


                <mat-form-field fxFlex="45">
                    <mat-label>Bairro :</mat-label>
                    <input matInput formControlName="bairro" placeholder="Endereço:">
                </mat-form-field>

                <mat-form-field fxFlex="45">
                    <mat-label>Endereço :</mat-label>
                    <input matInput formControlName="endereco" placeholder="Endereço:">
                </mat-form-field>



            </div>

            <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">

                <mat-form-field fxFlex="30">
                    <mat-label>Cidade :</mat-label>
                    <input matInput formControlName="cidade" placeholder="Cidade :">
                </mat-form-field>

                <mat-form-field fxFlex="12">
                    <mat-label>Estado :</mat-label>
                    <input matInput formControlName="estado" placeholder="Estado :">
                </mat-form-field>


                <mat-form-field fxFlex="12">
                    <mat-label>Nº :</mat-label>
                    <input matInput formControlName="numero" placeholder="Complemento:">
                </mat-form-field>

            </div>


            <div class="input-row">
                <mat-form-field class="full-width" appearance="outline">
                    <mat-label>Observação:</mat-label>
                    <textarea matInput formControlName="observacao" name="observacao"></textarea>
                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">

                <mat-spinner [diameter]="30" *ngIf="progress"> </mat-spinner>
                <button mat-stroked-button type="submit" *ngIf="!progress" (click)="atualizarFornecedor()" [disabled]="formulario.invalid" color="primary"> 
                    <mat-icon>refresh</mat-icon>                              
                    Atualizar
                </button>

                <button mat-stroked-button style="color: #868d95;" *ngIf="!progress" (click)="fechar()">     
                    <mat-icon>cancel</mat-icon>      
                    Cancelar
                </button>

            </div>

        </form>

    </mat-card-content>
</mat-card>